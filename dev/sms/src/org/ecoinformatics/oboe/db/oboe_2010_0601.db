--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

--
-- Name: plpgsql; Type: PROCEDURAL LANGUAGE; Schema: -; Owner: postgres
--

CREATE PROCEDURAL LANGUAGE plpgsql;


ALTER PROCEDURAL LANGUAGE plpgsql OWNER TO postgres;

SET search_path = public, pg_catalog;

--
-- Name: annot_id_seq; Type: SEQUENCE; Schema: public; Owner: oboe
--

CREATE SEQUENCE annot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.annot_id_seq OWNER TO oboe;

--
-- Name: annot_id_seq; Type: SEQUENCE SET; Schema: public; Owner: oboe
--

SELECT pg_catalog.setval('annot_id_seq', 2, true);


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: annotation; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE annotation (
    annot_id bigint DEFAULT nextval('annot_id_seq'::regclass) NOT NULL,
    annot_uri character varying(256)
);


ALTER TABLE public.annotation OWNER TO oboe;

--
-- Name: context_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE context_instance (
    did bigint,
    record_id bigint,
    oid bigint,
    context_oid bigint,
    rtype character varying(64)
);


ALTER TABLE public.context_instance OWNER TO oboe;

--
-- Name: context_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE context_type (
    annot_id bigint,
    otypelabel character(16),
    context_otypelabel character(16),
    relationship_name character(8),
    is_identifying boolean
);


ALTER TABLE public.context_type OWNER TO oboe;

--
-- Name: did_seq; Type: SEQUENCE; Schema: public; Owner: oboe
--

CREATE SEQUENCE did_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.did_seq OWNER TO oboe;

--
-- Name: did_seq; Type: SEQUENCE SET; Schema: public; Owner: oboe
--

SELECT pg_catalog.setval('did_seq', 2, true);


--
-- Name: data_annotation; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE data_annotation (
    did bigint DEFAULT nextval('did_seq'::regclass) NOT NULL,
    annot_id bigint,
    dataset_file character varying(256)
);


ALTER TABLE public.data_annotation OWNER TO oboe;

--
-- Name: ei_compress; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE ei_compress (
    did bigint,
    eid bigint,
    compressed_record_id bigint
);


ALTER TABLE public.ei_compress OWNER TO oboe;

--
-- Name: entity_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE entity_instance (
    eid bigint NOT NULL,
    did bigint,
    record_id bigint,
    etype character varying(64)
);


ALTER TABLE public.entity_instance OWNER TO oboe;

--
-- Name: key_attr; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE key_attr (
    annot_id bigint,
    ename character(32),
    keyattr character varying(256)
);


ALTER TABLE public.key_attr OWNER TO oboe;

--
-- Name: map; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE map (
    annot_id bigint,
    mtypelabel character(16),
    attrname character(16),
    mapcond character varying(64),
    mapval character varying(32)
);


ALTER TABLE public.map OWNER TO oboe;

--
-- Name: measurement_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE measurement_instance (
    mid bigint NOT NULL,
    did bigint,
    record_id bigint,
    oid bigint,
    mtypelabel character(32),
    mvalue character varying(64)
);


ALTER TABLE public.measurement_instance OWNER TO oboe;

--
-- Name: measurement_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE measurement_type (
    annot_id bigint NOT NULL,
    mtypelabel character(16) NOT NULL,
    otypelabel character(16),
    iskey boolean,
    characteristic character(64),
    standard character(16),
    protocal character varying(256)
);


ALTER TABLE public.measurement_type OWNER TO oboe;

--
-- Name: observation_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE observation_instance (
    oid bigint NOT NULL,
    did bigint,
    record_id bigint,
    eid bigint,
    otypelabel character(32)
);


ALTER TABLE public.observation_instance OWNER TO oboe;

--
-- Name: observation_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE observation_type (
    annot_id bigint NOT NULL,
    otypelabel character(16) NOT NULL,
    ename character(32),
    is_distinct boolean
);


ALTER TABLE public.observation_type OWNER TO oboe;

--
-- Name: tb1; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE tb1 (
    record_id bigint,
    tree integer,
    spp character(16),
    yr integer,
    dbh numeric
);


ALTER TABLE public.tb1 OWNER TO oboe;

--
-- Name: tb2; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE tb2 (
    record_id bigint,
    tree integer,
    spp character(16),
    plot character(8),
    yr integer,
    dbh numeric
);


ALTER TABLE public.tb2 OWNER TO oboe;

--
-- Data for Name: annotation; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY annotation (annot_id, annot_uri) FROM stdin;
1	sms.1.1
2	sms.1.1
\.


--
-- Data for Name: context_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY context_instance (did, record_id, oid, context_oid, rtype) FROM stdin;
1	0	209	208	Within
1	1	211	210	Within
1	2	212	210	Within
1	3	213	208	Within
1	4	214	210	Within
1	5	215	208	Within
1	6	216	210	Within
2	0	218	217	Within
2	0	218	219	Within
2	1	220	217	Within
2	1	220	221	Within
2	2	222	217	Within
2	2	222	221	Within
2	3	224	223	Within
2	3	224	219	Within
2	4	225	223	Within
2	4	225	221	Within
2	5	226	223	Within
2	5	226	221	Within
2	6	227	217	Within
2	6	227	219	Within
2	7	228	217	Within
2	7	228	221	Within
2	8	229	217	Within
2	8	229	219	Within
2	9	230	217	Within
2	9	230	221	Within
\.


--
-- Data for Name: context_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY context_type (annot_id, otypelabel, context_otypelabel, relationship_name, is_identifying) FROM stdin;
1	o2              	o1              	Within  	f
2	o2              	o1              	Within  	f
2	o2              	o3              	Within  	t
\.


--
-- Data for Name: data_annotation; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY data_annotation (did, annot_id, dataset_file) FROM stdin;
1	1	test1-data.txt
2	2	test2-data.txt
\.


--
-- Data for Name: ei_compress; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY ei_compress (did, eid, compressed_record_id) FROM stdin;
1	137	3
1	137	5
2	143	1
2	143	2
2	143	6
2	143	7
2	143	8
2	143	9
2	143	0
1	137	0
2	144	0
2	144	3
\.


--
-- Data for Name: entity_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY entity_instance (eid, did, record_id, etype) FROM stdin;
137	1	0	TemporalRange
138	1	0	Tree
139	1	1	TemporalRange
140	1	2	Tree
141	1	3	Tree
142	1	5	Tree
143	2	0	TemporalRange
144	2	0	Tree
145	2	0	Site
146	2	1	Tree
147	2	1	Site
148	2	2	Tree
149	2	3	TemporalRange
150	2	6	Tree
151	2	7	Tree
152	2	8	Tree
153	2	9	Tree
\.


--
-- Data for Name: key_attr; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY key_attr (annot_id, ename, keyattr) FROM stdin;
\.


--
-- Data for Name: map; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY map (annot_id, mtypelabel, attrname, mapcond, mapval) FROM stdin;
1	m1              	yr              		\N
1	m2              	dbh             	dbh ge 0	\N
1	m4              	tree            		\N
1	m3              	spp             	spp eq piru	Picea rubens
1	m3              	spp             	spp eq abba	Abies balsamea
2	m1              	yr              		\N
2	m2              	dbh             	dbh ge 0	\N
2	m4              	tree            		\N
2	m5              	plot            		\N
2	m3              	spp             	spp eq piru	Picea rubens
2	m3              	spp             	spp eq abba	Abies balsamea
\.


--
-- Data for Name: measurement_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY measurement_instance (mid, did, record_id, oid, mtypelabel, mvalue) FROM stdin;
627	1	0	208	m1                              	2007
628	1	0	209	m2                              	35.8
629	1	0	209	m4                              	1
630	1	0	209	m3                              	Picea rubens
631	1	1	210	m1                              	2008
632	1	1	211	m2                              	36.2
633	1	1	211	m4                              	1
634	1	1	211	m3                              	Picea rubens
636	1	2	212	m2                              	33.2
637	1	2	212	m4                              	2
638	1	2	212	m3                              	Picea rubens
640	1	3	213	m2                              	20.5
641	1	3	213	m4                              	1
642	1	3	213	m3                              	Abies balsamea
644	1	4	214	m2                              	25.0
645	1	4	214	m4                              	1
646	1	4	214	m3                              	Abies balsamea
648	1	5	215	m2                              	30.5
649	1	5	215	m4                              	2
650	1	5	215	m3                              	Abies balsamea
652	1	6	216	m2                              	36.5
653	1	6	216	m4                              	2
654	1	6	216	m3                              	Abies balsamea
655	2	0	217	m1                              	2007
656	2	0	218	m2                              	45.8
657	2	0	218	m4                              	1
658	2	0	219	m5                              	A
660	2	1	220	m2                              	46.2
661	2	1	220	m4                              	1
662	2	1	221	m5                              	B
664	2	2	222	m2                              	33.2
665	2	2	222	m4                              	2
667	2	3	223	m1                              	2008
668	2	3	224	m2                              	55.8
669	2	3	224	m4                              	1
672	2	4	225	m2                              	56.2
673	2	4	225	m4                              	1
676	2	5	226	m2                              	43.2
677	2	5	226	m4                              	2
680	2	6	227	m2                              	20.5
681	2	6	227	m4                              	1
683	2	6	227	m3                              	Picea rubens
685	2	7	228	m2                              	25.0
686	2	7	228	m4                              	1
688	2	7	228	m3                              	Abies balsamea
690	2	8	229	m2                              	30.5
691	2	8	229	m4                              	2
693	2	8	229	m3                              	Abies balsamea
695	2	9	230	m2                              	36.5
696	2	9	230	m4                              	2
698	2	9	230	m3                              	Abies balsamea
\.


--
-- Data for Name: measurement_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY measurement_type (annot_id, mtypelabel, otypelabel, iskey, characteristic, standard, protocal) FROM stdin;
1	m1              	o1              	t	Year                                                            	DateTime        	
1	m2              	o2              	f	DBH                                                             	Centimeter      	
1	m3              	o2              	t	TaxonomicTypeName                                               	ITIS            	
1	m4              	o2              	t	EntityName                                                      	LocalTreeNames  	
2	m1              	o1              	t	Year                                                            	DateTime        	
2	m5              	o3              	t	Plot                                                            	SiteName        	
2	m2              	o2              	f	DBH                                                             	Centimeter      	
2	m3              	o2              	t	TaxonomicTypeName                                               	ITIS            	
2	m4              	o2              	t	EntityName                                                      	LocalTreeNames  	
\.


--
-- Data for Name: observation_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY observation_instance (oid, did, record_id, eid, otypelabel) FROM stdin;
208	1	0	137	o1                              
209	1	0	138	o2                              
210	1	1	139	o1                              
211	1	1	138	o2                              
212	1	2	140	o2                              
213	1	3	141	o2                              
214	1	4	141	o2                              
215	1	5	142	o2                              
216	1	6	142	o2                              
217	2	0	143	o1                              
218	2	0	144	o2                              
219	2	0	145	o3                              
220	2	1	146	o2                              
221	2	1	147	o3                              
222	2	2	148	o2                              
223	2	3	149	o1                              
224	2	3	144	o2                              
225	2	4	146	o2                              
226	2	5	148	o2                              
227	2	6	150	o2                              
228	2	7	151	o2                              
229	2	8	152	o2                              
230	2	9	153	o2                              
\.


--
-- Data for Name: observation_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY observation_type (annot_id, otypelabel, ename, is_distinct) FROM stdin;
1	o1              	TemporalRange                   	t
1	o2              	Tree                            	f
2	o1              	TemporalRange                   	t
2	o3              	Site                            	t
2	o2              	Tree                            	f
\.


--
-- Data for Name: tb1; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY tb1 (record_id, tree, spp, yr, dbh) FROM stdin;
0	1	piru            	2007	35.8
1	1	piru            	2008	36.2
2	2	piru            	2008	33.2
3	1	abba            	2007	20.5
4	1	abba            	2008	25
5	2	abba            	2007	30.5
6	2	abba            	2008	36.5
\.


--
-- Data for Name: tb2; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY tb2 (record_id, tree, spp, plot, yr, dbh) FROM stdin;
0	1	palm tree       	A       	2007	45.8
1	1	palm tree       	B       	2007	46.2
2	2	pine tree       	B       	2007	33.2
3	1	palm tree       	A       	2008	55.8
4	1	palm tree       	B       	2008	56.2
5	2	pine tree       	B       	2008	43.2
6	1	piru            	A       	2007	20.5
7	1	abba            	B       	2007	25
8	2	abba            	A       	2007	30.5
9	2	abba            	B       	2007	36.5
\.


--
-- Name: annotation_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY annotation
    ADD CONSTRAINT annotation_pkey PRIMARY KEY (annot_id);


--
-- Name: data_annotation_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY data_annotation
    ADD CONSTRAINT data_annotation_pkey PRIMARY KEY (did);


--
-- Name: entity_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY entity_instance
    ADD CONSTRAINT entity_instance_pkey PRIMARY KEY (eid);


--
-- Name: measurement_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_pkey PRIMARY KEY (mid);


--
-- Name: measurement_type_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY measurement_type
    ADD CONSTRAINT measurement_type_pkey PRIMARY KEY (annot_id, mtypelabel);


--
-- Name: observation_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_pkey PRIMARY KEY (oid);


--
-- Name: observation_type_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY observation_type
    ADD CONSTRAINT observation_type_pkey PRIMARY KEY (annot_id, otypelabel);


--
-- Name: context_instance_context_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_context_oid_fkey FOREIGN KEY (context_oid) REFERENCES observation_instance(oid);


--
-- Name: context_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: context_instance_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_oid_fkey FOREIGN KEY (oid) REFERENCES observation_instance(oid);


--
-- Name: context_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_type
    ADD CONSTRAINT context_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: data_annotation_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY data_annotation
    ADD CONSTRAINT data_annotation_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: entity_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY entity_instance
    ADD CONSTRAINT entity_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: map_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY map
    ADD CONSTRAINT map_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: measurement_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: measurement_instance_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_oid_fkey FOREIGN KEY (oid) REFERENCES observation_instance(oid);


--
-- Name: measurement_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_type
    ADD CONSTRAINT measurement_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: observation_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: observation_instance_eid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_eid_fkey FOREIGN KEY (eid) REFERENCES entity_instance(eid);


--
-- Name: observation_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_type
    ADD CONSTRAINT observation_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

