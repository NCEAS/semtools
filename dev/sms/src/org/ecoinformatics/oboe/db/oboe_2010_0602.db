--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

--
-- Name: plpgsql; Type: PROCEDURAL LANGUAGE; Schema: -; Owner: postgres
--

CREATE PROCEDURAL LANGUAGE plpgsql;


ALTER PROCEDURAL LANGUAGE plpgsql OWNER TO postgres;

SET search_path = public, pg_catalog;

--
-- Name: annot_id_seq; Type: SEQUENCE; Schema: public; Owner: oboe
--

CREATE SEQUENCE annot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.annot_id_seq OWNER TO oboe;

--
-- Name: annot_id_seq; Type: SEQUENCE SET; Schema: public; Owner: oboe
--

SELECT pg_catalog.setval('annot_id_seq', 2, true);


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: annotation; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE annotation (
    annot_id bigint DEFAULT nextval('annot_id_seq'::regclass) NOT NULL,
    annot_uri character varying(256)
);


ALTER TABLE public.annotation OWNER TO oboe;

--
-- Name: context_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE context_instance (
    did bigint,
    record_id bigint,
    oid bigint,
    context_oid bigint,
    rtype character varying(64)
);


ALTER TABLE public.context_instance OWNER TO oboe;

--
-- Name: context_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE context_type (
    annot_id bigint,
    otypelabel character(16),
    context_otypelabel character(16),
    relationship_name character(8),
    is_identifying boolean
);


ALTER TABLE public.context_type OWNER TO oboe;

--
-- Name: did_seq; Type: SEQUENCE; Schema: public; Owner: oboe
--

CREATE SEQUENCE did_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.did_seq OWNER TO oboe;

--
-- Name: did_seq; Type: SEQUENCE SET; Schema: public; Owner: oboe
--

SELECT pg_catalog.setval('did_seq', 2, true);


--
-- Name: data_annotation; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE data_annotation (
    did bigint DEFAULT nextval('did_seq'::regclass) NOT NULL,
    annot_id bigint,
    dataset_file character varying(256)
);


ALTER TABLE public.data_annotation OWNER TO oboe;

--
-- Name: ei_compress; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE ei_compress (
    did bigint,
    eid bigint,
    compressed_record_id bigint
);


ALTER TABLE public.ei_compress OWNER TO oboe;

--
-- Name: entity_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE entity_instance (
    eid bigint NOT NULL,
    did bigint,
    record_id bigint,
    etype character varying(64)
);


ALTER TABLE public.entity_instance OWNER TO oboe;

--
-- Name: key_attr; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE key_attr (
    annot_id bigint,
    ename character(32),
    keyattr character varying(256)
);


ALTER TABLE public.key_attr OWNER TO oboe;

--
-- Name: map; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE map (
    annot_id bigint,
    mtypelabel character(16),
    attrname character(16),
    mapcond character varying(64),
    mapval character varying(32)
);


ALTER TABLE public.map OWNER TO oboe;

--
-- Name: measurement_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE measurement_instance (
    mid bigint NOT NULL,
    did bigint,
    record_id bigint,
    oid bigint,
    mtypelabel character(32),
    mvalue character varying(64)
);


ALTER TABLE public.measurement_instance OWNER TO oboe;

--
-- Name: measurement_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE measurement_type (
    annot_id bigint NOT NULL,
    mtypelabel character(16) NOT NULL,
    otypelabel character(16),
    iskey boolean,
    characteristic character(64),
    standard character(16),
    protocal character varying(256)
);


ALTER TABLE public.measurement_type OWNER TO oboe;

--
-- Name: observation_instance; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE observation_instance (
    oid bigint NOT NULL,
    did bigint,
    record_id bigint,
    eid bigint,
    otypelabel character(32)
);


ALTER TABLE public.observation_instance OWNER TO oboe;

--
-- Name: observation_type; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE observation_type (
    annot_id bigint NOT NULL,
    otypelabel character(16) NOT NULL,
    ename character(32),
    is_distinct boolean
);


ALTER TABLE public.observation_type OWNER TO oboe;

--
-- Name: tb1; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE tb1 (
    record_id bigint,
    tree integer,
    spp character(16),
    yr integer,
    dbh numeric
);


ALTER TABLE public.tb1 OWNER TO oboe;

--
-- Name: tb2; Type: TABLE; Schema: public; Owner: oboe; Tablespace: 
--

CREATE TABLE tb2 (
    record_id bigint,
    tree integer,
    spp character(16),
    plot character(8),
    yr integer,
    dbh numeric
);


ALTER TABLE public.tb2 OWNER TO oboe;

--
-- Data for Name: annotation; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY annotation (annot_id, annot_uri) FROM stdin;
1	sms.1.1
2	sms.1.1
\.


--
-- Data for Name: context_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY context_instance (did, record_id, oid, context_oid, rtype) FROM stdin;
1	0	232	231	Within
1	1	234	233	Within
1	2	235	233	Within
1	3	236	231	Within
1	4	237	233	Within
1	5	238	231	Within
1	6	239	233	Within
2	0	241	240	Within
2	0	241	242	Within
2	1	243	240	Within
2	1	243	244	Within
2	2	245	240	Within
2	2	245	244	Within
2	3	247	246	Within
2	3	247	242	Within
2	4	248	246	Within
2	4	248	244	Within
2	5	249	246	Within
2	5	249	244	Within
2	6	250	240	Within
2	6	250	242	Within
2	7	251	240	Within
2	7	251	244	Within
2	8	252	240	Within
2	8	252	242	Within
2	9	253	240	Within
2	9	253	244	Within
\.


--
-- Data for Name: context_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY context_type (annot_id, otypelabel, context_otypelabel, relationship_name, is_identifying) FROM stdin;
1	o2              	o1              	Within  	f
2	o2              	o1              	Within  	f
2	o2              	o3              	Within  	t
\.


--
-- Data for Name: data_annotation; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY data_annotation (did, annot_id, dataset_file) FROM stdin;
1	1	test1-data.txt
2	2	test2-data.txt
\.


--
-- Data for Name: ei_compress; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY ei_compress (did, eid, compressed_record_id) FROM stdin;
1	154	0
1	154	3
1	154	5
1	155	0
1	155	1
1	156	1
1	156	2
1	156	4
1	156	6
1	157	2
1	158	3
1	158	4
1	159	5
1	159	6
2	160	0
2	160	1
2	160	2
2	160	6
2	160	7
2	160	8
2	160	9
2	161	0
2	161	3
2	162	0
2	162	3
2	162	6
2	162	8
2	163	1
2	163	4
2	164	1
2	164	2
2	164	4
2	164	5
2	164	7
2	164	9
2	165	2
2	165	5
2	166	3
2	166	4
2	166	5
2	167	6
2	168	7
2	169	8
2	170	9
\.


--
-- Data for Name: entity_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY entity_instance (eid, did, record_id, etype) FROM stdin;
154	1	0	TemporalRange
155	1	0	Tree
156	1	1	TemporalRange
157	1	2	Tree
158	1	3	Tree
159	1	5	Tree
160	2	0	TemporalRange
161	2	0	Tree
162	2	0	Site
163	2	1	Tree
164	2	1	Site
165	2	2	Tree
166	2	3	TemporalRange
167	2	6	Tree
168	2	7	Tree
169	2	8	Tree
170	2	9	Tree
\.


--
-- Data for Name: key_attr; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY key_attr (annot_id, ename, keyattr) FROM stdin;
\.


--
-- Data for Name: map; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY map (annot_id, mtypelabel, attrname, mapcond, mapval) FROM stdin;
1	m1              	yr              		\N
1	m2              	dbh             	dbh ge 0	\N
1	m4              	tree            		\N
1	m3              	spp             	spp eq piru	Picea rubens
1	m3              	spp             	spp eq abba	Abies balsamea
2	m1              	yr              		\N
2	m2              	dbh             	dbh ge 0	\N
2	m4              	tree            		\N
2	m5              	plot            		\N
2	m3              	spp             	spp eq piru	Picea rubens
2	m3              	spp             	spp eq abba	Abies balsamea
\.


--
-- Data for Name: measurement_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY measurement_instance (mid, did, record_id, oid, mtypelabel, mvalue) FROM stdin;
699	1	0	231	m1                              	2007
700	1	0	232	m2                              	35.8
701	1	0	232	m4                              	1
702	1	0	232	m3                              	Picea rubens
703	1	1	233	m1                              	2008
704	1	1	234	m2                              	36.2
705	1	1	234	m4                              	1
706	1	1	234	m3                              	Picea rubens
708	1	2	235	m2                              	33.2
709	1	2	235	m4                              	2
710	1	2	235	m3                              	Picea rubens
712	1	3	236	m2                              	20.5
713	1	3	236	m4                              	1
714	1	3	236	m3                              	Abies balsamea
716	1	4	237	m2                              	25.0
717	1	4	237	m4                              	1
718	1	4	237	m3                              	Abies balsamea
720	1	5	238	m2                              	30.5
721	1	5	238	m4                              	2
722	1	5	238	m3                              	Abies balsamea
724	1	6	239	m2                              	36.5
725	1	6	239	m4                              	2
726	1	6	239	m3                              	Abies balsamea
727	2	0	240	m1                              	2007
728	2	0	241	m2                              	45.8
729	2	0	241	m4                              	1
730	2	0	242	m5                              	A
732	2	1	243	m2                              	46.2
733	2	1	243	m4                              	1
734	2	1	244	m5                              	B
736	2	2	245	m2                              	33.2
737	2	2	245	m4                              	2
739	2	3	246	m1                              	2008
740	2	3	247	m2                              	55.8
741	2	3	247	m4                              	1
744	2	4	248	m2                              	56.2
745	2	4	248	m4                              	1
748	2	5	249	m2                              	43.2
749	2	5	249	m4                              	2
752	2	6	250	m2                              	20.5
753	2	6	250	m4                              	1
755	2	6	250	m3                              	Picea rubens
757	2	7	251	m2                              	25.0
758	2	7	251	m4                              	1
760	2	7	251	m3                              	Abies balsamea
762	2	8	252	m2                              	30.5
763	2	8	252	m4                              	2
765	2	8	252	m3                              	Abies balsamea
767	2	9	253	m2                              	36.5
768	2	9	253	m4                              	2
770	2	9	253	m3                              	Abies balsamea
\.


--
-- Data for Name: measurement_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY measurement_type (annot_id, mtypelabel, otypelabel, iskey, characteristic, standard, protocal) FROM stdin;
1	m1              	o1              	t	Year                                                            	DateTime        	
1	m2              	o2              	f	DBH                                                             	Centimeter      	
1	m3              	o2              	t	TaxonomicTypeName                                               	ITIS            	
1	m4              	o2              	t	EntityName                                                      	LocalTreeNames  	
2	m1              	o1              	t	Year                                                            	DateTime        	
2	m5              	o3              	t	Plot                                                            	SiteName        	
2	m2              	o2              	f	DBH                                                             	Centimeter      	
2	m3              	o2              	t	TaxonomicTypeName                                               	ITIS            	
2	m4              	o2              	t	EntityName                                                      	LocalTreeNames  	
\.


--
-- Data for Name: observation_instance; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY observation_instance (oid, did, record_id, eid, otypelabel) FROM stdin;
231	1	0	154	o1                              
232	1	0	155	o2                              
233	1	1	156	o1                              
234	1	1	155	o2                              
235	1	2	157	o2                              
236	1	3	158	o2                              
237	1	4	158	o2                              
238	1	5	159	o2                              
239	1	6	159	o2                              
240	2	0	160	o1                              
241	2	0	161	o2                              
242	2	0	162	o3                              
243	2	1	163	o2                              
244	2	1	164	o3                              
245	2	2	165	o2                              
246	2	3	166	o1                              
247	2	3	161	o2                              
248	2	4	163	o2                              
249	2	5	165	o2                              
250	2	6	167	o2                              
251	2	7	168	o2                              
252	2	8	169	o2                              
253	2	9	170	o2                              
\.


--
-- Data for Name: observation_type; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY observation_type (annot_id, otypelabel, ename, is_distinct) FROM stdin;
1	o1              	TemporalRange                   	t
1	o2              	Tree                            	f
2	o1              	TemporalRange                   	t
2	o3              	Site                            	t
2	o2              	Tree                            	f
\.


--
-- Data for Name: tb1; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY tb1 (record_id, tree, spp, yr, dbh) FROM stdin;
0	1	piru            	2007	35.8
1	1	piru            	2008	36.2
2	2	piru            	2008	33.2
3	1	abba            	2007	20.5
4	1	abba            	2008	25
5	2	abba            	2007	30.5
6	2	abba            	2008	36.5
\.


--
-- Data for Name: tb2; Type: TABLE DATA; Schema: public; Owner: oboe
--

COPY tb2 (record_id, tree, spp, plot, yr, dbh) FROM stdin;
0	1	palm tree       	A       	2007	45.8
1	1	palm tree       	B       	2007	46.2
2	2	pine tree       	B       	2007	33.2
3	1	palm tree       	A       	2008	55.8
4	1	palm tree       	B       	2008	56.2
5	2	pine tree       	B       	2008	43.2
6	1	piru            	A       	2007	20.5
7	1	abba            	B       	2007	25
8	2	abba            	A       	2007	30.5
9	2	abba            	B       	2007	36.5
\.


--
-- Name: annotation_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY annotation
    ADD CONSTRAINT annotation_pkey PRIMARY KEY (annot_id);


--
-- Name: data_annotation_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY data_annotation
    ADD CONSTRAINT data_annotation_pkey PRIMARY KEY (did);


--
-- Name: entity_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY entity_instance
    ADD CONSTRAINT entity_instance_pkey PRIMARY KEY (eid);


--
-- Name: measurement_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_pkey PRIMARY KEY (mid);


--
-- Name: measurement_type_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY measurement_type
    ADD CONSTRAINT measurement_type_pkey PRIMARY KEY (annot_id, mtypelabel);


--
-- Name: observation_instance_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_pkey PRIMARY KEY (oid);


--
-- Name: observation_type_pkey; Type: CONSTRAINT; Schema: public; Owner: oboe; Tablespace: 
--

ALTER TABLE ONLY observation_type
    ADD CONSTRAINT observation_type_pkey PRIMARY KEY (annot_id, otypelabel);


--
-- Name: context_instance_context_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_context_oid_fkey FOREIGN KEY (context_oid) REFERENCES observation_instance(oid);


--
-- Name: context_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: context_instance_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_instance
    ADD CONSTRAINT context_instance_oid_fkey FOREIGN KEY (oid) REFERENCES observation_instance(oid);


--
-- Name: context_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY context_type
    ADD CONSTRAINT context_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: data_annotation_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY data_annotation
    ADD CONSTRAINT data_annotation_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: entity_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY entity_instance
    ADD CONSTRAINT entity_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: map_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY map
    ADD CONSTRAINT map_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: measurement_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: measurement_instance_oid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_instance
    ADD CONSTRAINT measurement_instance_oid_fkey FOREIGN KEY (oid) REFERENCES observation_instance(oid);


--
-- Name: measurement_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY measurement_type
    ADD CONSTRAINT measurement_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: observation_instance_did_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_did_fkey FOREIGN KEY (did) REFERENCES data_annotation(did);


--
-- Name: observation_instance_eid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_instance
    ADD CONSTRAINT observation_instance_eid_fkey FOREIGN KEY (eid) REFERENCES entity_instance(eid);


--
-- Name: observation_type_annot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: oboe
--

ALTER TABLE ONLY observation_type
    ADD CONSTRAINT observation_type_annot_id_fkey FOREIGN KEY (annot_id) REFERENCES annotation(annot_id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

